# Запуск Svelte веб-приложения

## Запуск приложения

### Вариант 1: Локальный запуск (рекомендуется для разработки)

1. Убедитесь, что у вас установлены Node.js (версия 20 или выше) и npm
2. Откройте терминал в корневой директории проекта
3. Запустите скрипт:
   ```powershell
   .\run_dev.ps1
   ```
   
   Или вручную:
   ```bash
   npm install
   npm run dev
   ```

4. Откройте браузер и перейдите по адресу: http://localhost:5173

### Вариант 2: Запуск в Docker (рекомендуется для продакшена)

1. Убедитесь, что у вас установлен Docker и Docker Compose
2. Откройте терминал в корневой директории проекта
3. Запустите скрипт:
   ```powershell
   .\run_docker.ps1
   ```
   
   Или вручную:
   ```bash
   docker-compose build
   docker-compose up -d
   ```

4. Откройте браузер и перейдите по адресу: http://localhost:3003

## Остановка приложения

### При локальном запуске

Просто нажмите `CTRL+C` в терминале, где запущен сервер

### При запуске в Docker

```bash
docker-compose down
```

Или используйте скрипт PowerShell:
```powershell
docker-compose down
```

## Структура портов

- **Локальная разработка**: http://localhost:5173
- **Docker**: http://localhost:3003

## Переменные окружения

Приложение не требует специальных переменных окружения для запуска. Все настройки включены в конфигурационные файлы.

## Решение проблем

### Частые ошибки

1. **"Port already in use"**: Другое приложение использует порт. Остановите конфликтующее приложение или измените порт в конфигурации.

2. **"Docker command not found"**: Убедитесь, что Docker установлен и добавлен в PATH.

3. **"Node.js not found"**: Убедитесь, что Node.js установлен и добавлен в PATH.

4. **"npm install fails"**: Проверьте подключение к интернету и попробуйте снова.

### Логи приложения

#### Локальный запуск

Логи отображаются в терминале, где запущен сервер

#### Docker

Просмотр логов контейнера:
```bash
docker-compose logs -f
```

## Производительность

### Локальная разработка

- Горячая перезагрузка при изменении файлов
- Source maps для отладки
- Неоптимизированные сборки для быстрой разработки

### Docker (продакшен)

- Оптимизированная сборка
- Минимизированные файлы
- Gzip сжатие
- Кэширование статических ресурсов
- Безопасность через заголовки

## Безопасность

### Локальная разработка

- Используется HTTP (без HTTPS)
- Отладочная информация доступна

### Docker (продакшен)

- Добавлены заголовки безопасности:
  - X-Frame-Options
  - X-XSS-Protection
  - X-Content-Type-Options
  - Referrer-Policy
  - Content-Security-Policy

## Масштабирование

Для масштабирования приложения в продакшене рекомендуется:

1. Использовать reverse proxy (nginx, Apache) перед контейнерами
2. Настроить балансировку нагрузки
3. Использовать CDN для статических ресурсов
4. Настроить мониторинг и логирование

## Обновление приложения

### Локальная разработка

1. Получите последние изменения из репозитория
2. Установите новые зависимости:
   ```bash
   npm install
   ```
3. Перезапустите сервер разработки

### Docker (продакшен)

1. Получите последние изменения из репозитория
2. Пересоберите и перезапустите контейнеры:
   ```bash
   docker-compose down
   docker-compose build
   docker-compose up -d
   ```