var ne=Object.defineProperty;var re=(t,e,n)=>e in t?ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D=(t,e,n)=>re(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function N(){}function x(t){return t()}function V(){return Object.create(null)}function j(t){t.forEach(x)}function ee(t){return typeof t=="function"}function le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let P;function ie(t,e){return t===e?!0:(P||(P=document.createElement("a")),P.href=e,t===P.href)}function se(t){return Object.keys(t).length===0}function u(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function _(t){return document.createElement(t)}function G(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t){return document.createTextNode(t)}function T(){return $(" ")}function oe(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ce(t){return Array.from(t.childNodes)}function U(t,e){e=""+e,t.data!==e&&(t.data=e)}let S;function C(t){S=t}function ae(){if(!S)throw new Error("Function called outside component initialization");return S}function ue(t){ae().$$.on_mount.push(t)}const L=[],J=[];let O=[];const Q=[],fe=Promise.resolve();let I=!1;function de(){I||(I=!0,fe.then(te))}function F(t){O.push(t)}const H=new Set;let E=0;function te(){if(E!==0)return;const t=S;do{try{for(;E<L.length;){const e=L[E];E++,C(e),pe(e.$$)}}catch(e){throw L.length=0,E=0,e}for(C(null),L.length=0,E=0;J.length;)J.pop()();for(let e=0;e<O.length;e+=1){const n=O[e];H.has(n)||(H.add(n),n())}O.length=0}while(L.length);for(;Q.length;)Q.pop()();I=!1,H.clear(),C(t)}function pe(t){if(t.fragment!==null){t.update(),j(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}function me(t){const e=[],n=[];O.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),O=e}const _e=new Set;function he(t,e){t&&t.i&&(_e.delete(t),t.i(e))}function ge(t,e,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),F(()=>{const i=t.$$.on_mount.map(x).filter(ee);t.$$.on_destroy?t.$$.on_destroy.push(...i):j(i),t.$$.on_mount=[]}),l.forEach(F)}function be(t,e){const n=t.$$;n.fragment!==null&&(me(n.after_update),j(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ve(t,e){t.$$.dirty[0]===-1&&(L.push(t),de(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ye(t,e,n,r,l,i,o=null,c=[-1]){const a=S;C(t);const s=t.$$={fragment:null,ctx:[],props:i,update:N,not_equal:l,bound:V(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:V(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};o&&o(s.root);let f=!1;if(s.ctx=n?n(t,e.props||{},(d,y,...W)=>{const h=W.length?W[0]:y;return s.ctx&&l(s.ctx[d],s.ctx[d]=h)&&(!s.skip_bound&&s.bound[d]&&s.bound[d](h),f&&ve(t,d)),y}):[],s.update(),f=!0,j(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const d=ce(e.target);s.fragment&&s.fragment.l(d),d.forEach(g)}else s.fragment&&s.fragment.c();e.intro&&he(t.$$.fragment),ge(t,e.target,e.anchor),te()}C(a)}class we{constructor(){D(this,"$$");D(this,"$$set")}$destroy(){be(this,1),this.$destroy=N}$on(e,n){if(!ee(n))return N;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!se(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Te="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Te);function ke(){var t;try{if(typeof window<"u"&&((t=window.Telegram)!=null&&t.WebApp)){const e=window.Telegram.WebApp;return e.ready(),e.expand(),console.log("Telegram Web App initialized"),!0}else return console.warn("Telegram Web App is not available in this environment"),!1}catch(e){return console.error("Error initializing Telegram Web App:",e),!1}}function Ae(){return new Promise(t=>{var e,n;try{if(typeof window<"u"&&((e=window.Telegram)!=null&&e.WebApp)){const r=window.Telegram.WebApp;(n=r.initDataUnsafe)!=null&&n.user?(console.log("User authenticated via Telegram:",r.initDataUnsafe.user),t(r.initDataUnsafe.user)):(console.warn("No user data available from Telegram"),t(null))}else console.warn("Telegram Web App not available"),t(null)}catch(r){console.error("Error during Telegram authentication:",r),t(null)}})}function $e(t){let e;return{c(){e=_("div"),e.innerHTML="<p>Для использования приложения откройте его внутри Telegram</p> <p>Найдите бота @Saraylo_bot и запустите Web App</p>",p(e,"class","telegram-required")},m(n,r){w(n,e,r)},p:N,d(n){n&&g(e)}}}function Ee(t){let e,n,r,l;function i(a,s){return a[2]?Oe:Le}let o=i(t),c=o(t);return{c(){e=_("button"),c.c(),p(e,"class","telegram-auth-button"),e.disabled=n=t[2]||t[0],p(e,"aria-label","Войти через Telegram")},m(a,s){w(a,e,s),c.m(e,null),r||(l=oe(e,"click",t[5]),r=!0)},p(a,s){o!==(o=i(a))&&(c.d(1),c=o(a),c&&(c.c(),c.m(e,null))),s&5&&n!==(n=a[2]||a[0])&&(e.disabled=n)},d(a){a&&g(e),c.d(),r=!1,l()}}}function Le(t){let e,n,r,l;return{c(){e=G("svg"),n=G("path"),r=T(),l=_("span"),l.textContent="Войти через Telegram",p(n,"fill","currentColor"),p(n,"d","M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.447 1.394c-.14.141-.259.259-.374.261l.213-3.053 5.56-5.022c.24-.213-.054-.334-.373-.121l-6.869 4.326-2.96-.924c-.64-.203-.658-.64.136-.954l11.566-4.458c.538-.196 1.006.128.832.941z"),p(e,"class","telegram-icon"),p(e,"width","24"),p(e,"height","24"),p(e,"viewBox","0 0 24 24")},m(i,o){w(i,e,o),u(e,n),w(i,r,o),w(i,l,o)},d(i){i&&(g(e),g(r),g(l))}}}function Oe(t){let e;return{c(){e=_("div"),p(e,"class","loading-spinner")},m(n,r){w(n,e,r)},d(n){n&&g(e)}}}function X(t){let e,n;return{c(){e=_("p"),n=$(t[1]),p(e,"class","auth-status")},m(r,l){w(r,e,l),u(e,n)},p(r,l){l&2&&U(n,r[1])},d(r){r&&g(e)}}}function Y(t){let e,n,r,l=t[3].first_name+"",i,o,c=(t[3].last_name||"")+"",a,s,f=t[3].username&&Z(t);return{c(){e=_("div"),n=_("p"),r=$("Вы вошли как: "),i=$(l),o=T(),a=$(c),s=T(),f&&f.c(),p(e,"class","user-info")},m(d,y){w(d,e,y),u(e,n),u(n,r),u(n,i),u(n,o),u(n,a),u(e,s),f&&f.m(e,null)},p(d,y){y&8&&l!==(l=d[3].first_name+"")&&U(i,l),y&8&&c!==(c=(d[3].last_name||"")+"")&&U(a,c),d[3].username?f?f.p(d,y):(f=Z(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(d){d&&g(e),f&&f.d()}}}function Z(t){let e,n,r=t[3].username+"",l;return{c(){e=_("p"),n=$("Username: @"),l=$(r)},m(i,o){w(i,e,o),u(e,n),u(e,l)},p(i,o){o&8&&r!==(r=i[3].username+"")&&U(l,r)},d(i){i&&g(e)}}}function Ne(t){let e,n,r,l,i,o,c,a,s,f,d,y,W,h,M,K,q,B;function R(m,A){return m[4]?Ee:$e}let z=R(t),k=z(t),b=t[1]&&X(t),v=t[0]&&t[3]&&Y(t);return{c(){e=_("script"),e.innerHTML="",r=T(),l=_("div"),l.innerHTML='<div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div>',i=T(),o=_("div"),c=_("div"),a=_("h1"),a.textContent="Квантовый Беговой Тренер",s=T(),f=_("h2"),f.textContent="Интеллектуальный анализ вашего физиологического состояния в реальном времени для оптимизации тренировок",d=T(),y=_("div"),y.innerHTML="<p>Система на основе нейросетей анализирует данные с датчиков, чтобы оценить ваше текущее состояние, уровень усталости и эффективность тренировки</p> <p>Получайте персонализированные рекомендации для достижения ваших целей и предотвращения перетренированности</p> <p>Ваш личный тренер в режиме реального времени</p>",W=T(),h=_("div"),M=_("p"),M.textContent="Доступ к приложению возможен только после авторизации через Telegram",K=T(),k.c(),q=T(),b&&b.c(),B=T(),v&&v.c(),document.title="Квантовый Беговой Тренер",ie(e.src,n="https://telegram.org/js/telegram-web-app.js")||p(e,"src",n),p(l,"class","background-animation"),p(a,"class","main-title"),p(f,"class","subtitle"),p(y,"class","description"),p(M,"class","access-info"),p(h,"class","auth-section"),p(c,"class","glass-panel"),p(o,"class","container")},m(m,A){u(document.head,e),w(m,r,A),w(m,l,A),w(m,i,A),w(m,o,A),u(o,c),u(c,a),u(c,s),u(c,f),u(c,d),u(c,y),u(c,W),u(c,h),u(h,M),u(h,K),k.m(h,null),u(h,q),b&&b.m(h,null),u(h,B),v&&v.m(h,null)},p(m,[A]){z===(z=R(m))&&k?k.p(m,A):(k.d(1),k=z(m),k&&(k.c(),k.m(h,q))),m[1]?b?b.p(m,A):(b=X(m),b.c(),b.m(h,B)):b&&(b.d(1),b=null),m[0]&&m[3]?v?v.p(m,A):(v=Y(m),v.c(),v.m(h,null)):v&&(v.d(1),v=null)},i:N,o:N,d(m){m&&(g(r),g(l),g(i),g(o)),g(e),k.d(),b&&b.d(),v&&v.d()}}}function We(t,e,n){let r=!1,l="",i=!1,o=null,c=!1;ue(()=>{n(4,c=ke()),c||n(1,l="Приложение должно быть запущено внутри Telegram")});async function a(){if(!c){n(1,l="Приложение должно быть запущено внутри Telegram");return}n(2,i=!0),n(1,l="Авторизация через Telegram...");try{const s=await Ae();s?(n(0,r=!0),n(3,o=s),n(1,l=`Добро пожаловать, ${s.first_name}!`)):n(1,l="Не удалось получить данные пользователя из Telegram"),n(2,i=!1)}catch(s){n(1,l="Ошибка авторизации через Telegram"),n(2,i=!1),console.error("Authorization error:",s)}}return[r,l,i,o,c,a]}class Ce extends we{constructor(e){super(),ye(this,e,We,Ne,le,{})}}new Ce({target:document.getElementById("app")??document.body});
